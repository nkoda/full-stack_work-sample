<div class="mat-elevation-z8 data-table" >
  <mat-paginator #paginator
      [length]="dataSource.data.length"
      [pageIndex]="0"
      [pageSize]="10"
      [pageSizeOptions]="[5, 10, 20]"
      aria-label="Select page">
  </mat-paginator>
  <table 
  mat-table 
  class="full-width-table" 
  matSort 
  aria-label="Elements" 
  [dataSource]="data"
  (onAddProduct)="updateProducts()">
    <!-- Id Column -->
    <ng-container matColumnDef="productId">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Product ID</th>
      <td class="td productid" mat-cell *matCellDef="let row">{{row.productId}}</td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="productName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Product Name</th>
      <td mat-cell *matCellDef="let row"> <b>{{row.productName}}</b></td>
    </ng-container>

    <!-- Owners Name Column -->
    <ng-container matColumnDef="productOwnerName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Product Owner Name</th>
      <td mat-cell *matCellDef="let row">{{row.productOwnerName}}</td>
    </ng-container>

    <!-- Developers Column -->
    <ng-container matColumnDef="developers">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Developers</th>
      <td mat-cell *matCellDef="let row">
        <ng-container *ngFor="let developer of row.developers; let last = last">
          {{ developer }}{{ last ? '' : ', '}}
        </ng-container>
      </td>
    </ng-container>

    <!-- Scrum Masters Name Column -->
    <ng-container matColumnDef="scrumMasterName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Scrum Master</th>
      <td mat-cell *matCellDef="let row">{{row.scrumMasterName}}</td>
    </ng-container>

    <!-- Start Date Column -->
    <ng-container matColumnDef="startDate">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Start Date</th>
      <td mat-cell *matCellDef="let row">{{row.startDate}}</td>
    </ng-container>

    <!-- Methodology Column -->
    <ng-container matColumnDef="methodology">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Methodology</th>
      <td mat-cell *matCellDef="let row">       
        <div 
          [class.agile]="row.methodology === 'agile'" 
          [class.waterfall]="row.methodology === 'waterfall'" 
          class="badge"
          >
          {{row.methodology}}
        </div>
      </td>
    </ng-container>

    <!-- Location Column -->
    <ng-container matColumnDef="location">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Location</th>
      <td mat-cell *matCellDef="let row">
        <a href="{{row.location}}" target="blank">{{row.location}}</a>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
